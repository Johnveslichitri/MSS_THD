<html>
<head>
 <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
 <script src="js/jquery.min.js"></script>
 <script src="js/bootstrap.min.js"></script>
 
 <script src="js/angular.min.js"></script>
 </head>
<body ng-app="myApp" ng-controller="myCtrl" ng-init="demo()">

<div>
<div id="displayTopic"  >
<!--{{result}}-->
<table border="1">

<tr >
		<th>Topic ID</th>
		<th>User ID</th>
        <th>Author Name</th>
        <th>Topic Name</th>
        <th>Technology</th>
		<th>Content</th>
        <th>Referral Links</th>
      </tr><tr ng-repeat="x in result">
  <td>{{x._id}}</td>
  <td>{{x.userid}}</td>
  <td>{{x.authorname}}</td>
  <td>{{x.topicname}}</td>
  <td>{{x.technology}}</td>
  <td>{{x.content}}</td>
  <td>{{x.links}}</td>
</tr>
</table>
</div>
</div>
<script>

<!-- AngularJS module define AngularJS applications -->
var app = angular.module('myApp', []);
app.controller('myCtrl', function($scope,$http,$window) {
   
    
 
 $scope.demo = function() {
  var json={
  "_id" : localStorage.getItem('topicid1')
 };
  
  alert(localStorage.getItem('topicid1'));
  
 // $http.post("http://localhost:8001/registerDataAng",json).then(function(data) {
    $http.post("/retrieveParticularTopic",json).then(function(data) {
   
   if (data.data.error=="failed") {
   console.log(JSON.stringify(data))
   
                 $window.alert('Error while retreving the topic');
            } else{
			$scope.result=data.data;
			document.getElementById("displayTopic").style.display = "block";
			}
        })
  
  
 }
 

});
</script>

</body>
</html>